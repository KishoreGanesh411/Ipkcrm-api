generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "darwin", "debian-openssl-1.1.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum Profession {
  SELF_EMPLOYED
  BUSINESS
  EMPLOYEE
}

enum Product {
  IAP
  SIP
}

enum ClientType {
  INTERESTED
  ENQUIRY
  IMPORTANT
}

enum UserRoles {
  ADMIN
  RM
  STAFF
  MARKETING
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

enum Status {
  ACTIVE
  INACTIVE
}

enum LeadStatus {
  OPEN
  ON_HOLD
  CLOSED
}

model Counter {
  id       String @id @default(auto()) @map("_id") @db.ObjectId

  key      String @unique
  current  Int    @default(0)

  @@map("counter")
}

model RmMember {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId

  name      String  @unique
  active    Boolean @default(true)
  weight    Int     @default(1)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("rm_member")
}


model IpkLeadd {

  id              String       @id @default(auto()) @map("_id") @db.ObjectId

  firstName       String?
  lastName        String?


  leadCode        String       @unique
  gender          Gender?
  age             Int?
  location        String?


  profession      Profession?
  companyName     String?
  designation     String?
  product         Product?
  investmentRange String?
  sipAmount       Int?
  clientTypes     ClientType[]

  remark          String?
  leadSource      String?

  assignedRM      String?
  status          LeadStatus   @default(OPEN)

  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
  archived  Boolean  @default(false)
  @@map("ipk_leadd")
}


model User {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId
  archived  Boolean   @default(false)
  name      String
  email     String
  role      UserRoles
  gender    Gender?
  phone     String?
  status    Status    @default(ACTIVE)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@map("user")
}